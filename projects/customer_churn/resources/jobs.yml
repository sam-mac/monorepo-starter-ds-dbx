resources:
  jobs:
    smoke:
      name: customer_churn_smoke
      tasks:
        - task_key: smoke
          new_cluster:
            spark_version: "13.3.x-scala2.12"
            node_type_id: "i3.xlarge"
            num_workers: 1
          python_wheel_task:
            package_name: customer_churn
            entry_point: customer-churn
            parameters: ["smoke"]

    prep_job:
      name: customer_churn_prep
      tasks:
        - task_key: prep
          new_cluster:
            spark_version: "13.3.x-scala2.12"
            node_type_id: "i3.xlarge"
            num_workers: 2
          python_wheel_task:
            package_name: customer_churn
            entry_point: customer-churn
            parameters: ["prep", "--config", "conf/dev.yml"]
